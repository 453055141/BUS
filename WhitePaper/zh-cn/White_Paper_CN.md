#  BCOO CHAIN/贝克链
**A New Distributed Web Protocol Based on an Innovative Proof of Reputation (PoR) Consensus Algorithm and Eco System**

**基于创新性的信誉证明共识协议的分布式网络及生态系统**

作者: [BCOO.IO TEAM](http://www.bcoo.io)

**摘要**：贝克链提出了一种创新的PoR（Proof of Reputation）信誉共识算法，解决了目前区块链难以同时保持高吞吐量和去中心化两种特性的痛点。贝克链基于社交图谱，将社交、时间、贡献活跃度进行数学建模，构建了一套去中心化的信誉体系。每个用户都有机会建立高信誉值，用户信誉越高交易成本越低（甚至免费），被选为信任节点参与共识的机会越多，收益也越大。高信誉用户之间被定义为“互信节点”，小微交易将启动“支付通道”进行高速离线交易。

信誉体系和系统激励制度将有效促进商业开发者和普通用户的持续热情，有助于商业生态系统建设。拥有流量的商业开发者更容易获得高信誉值，当选可信全节点的几率更高。普通用户可以通过活跃的社交互动和积极使用生态系统中的商业应用来提升信誉值，增加被选为可信轻节点的几率。

贝克链采用了DAG有向无环图的数据结构以保持系统的正向可扩展性。支持智能手机轻节点客户端以抗击系统的去中心化，保持分散性。零知识验证、晶格化数据存储、量子级加密算法、改进的BVM虚拟机等技术，使贝克链具有更可靠的安全性，还提供了友好的DApp和侧链开发环境以满足某些应用在大文件存储、低交易成本、用户信息保护、侧链和智能合约迭代及Bug修复等方面的技术要求。

贝克链是一个无块无链的去中心化的分布式网络，解决了区块链在落地应用中的两个难点：可扩展性和分散性。贝克链，可以适用于千万级以上用户的商业应用需求，是目前最可行的高频小微交易和社交应用的区块链生态系统。

Copyright © 2018 bcoo.io

## 目录
<!-- MarkdownTOC depth=4 autolink=true bracket=round list_bullets="-*+" -->

- [1. 背景](#背景)
- [2. 区块链在落地应用中的挑战](#区块链在落地应用中的挑战)
  * [2.1 高并发、高吞吐与可扩展性](#高并发、高吞吐与可扩展性)
  * [2.2 商业信誉与用户隐私](#商业信誉与用户隐私)
  * [2.3 激励机制与交易成本](#激励机制与交易成本)
  * [2.4 安全性与去中心化](#安全性与去中心化)
  * [2.5 智能合约迭代](#智能合约迭代)
  * [2.6 存储能力受限](#存储能力受限)
- [3. 信誉共识](#信誉共识)
  * [3.1 信任与共识](#信任与共识)
  * [3.2 信誉是稀缺资源](#信誉是稀缺资源)
  * [3.3 信誉模型和数学抽象](#信誉模型和数学抽象)
    * [3.3.1 社交关系](#社交关系)
    * [3.3.2 互信节点](#互信节点)
    * [3.3.3 信誉值量化](#信誉值量化)
  * [3.4 共识过程](#共识过程)
  * [3.5 诚信节点选择](#诚信节点选择)
  * [3.6 拜占庭容错过程](#拜占庭容错过程)
  * [3.7 数据结构和交易关系](#数据结构和交易关系)
  * [3.8 信誉证明的系统激励](#信誉证明的系统激励)
  * [3.9 PoR与各种共识机制的比较](#PoR与各种共识机制的比较)
- [4. 其他技术](#其他技术)
  * [4.1 零知识验证/ZKP](#零知识验证/ZKP)
  * [4.2 轻节点/Thin Client](#轻节点/Thin-Client)
  * [4.3 智能合约与分叉管理](#智能合约与分叉管理)
  * [4.4 量子级加密算法](#量子级加密算法)
  * [4.5 虚拟机和编程语言](#虚拟机和编程语言)
  * [4.6 侧链支持](#侧链支持)
- [5. 系统架构图](#系统架构图)
- [6. 落地应用场景展望](#落地应用场景展望)
  * [6.1 轻节点——贝克钱包/BCOO PAY](#轻节点——贝克钱包/BCOO-PAY)
  * [6.2 其他可能的应用及技术支持](#其他可能的应用及技术支持)
- [7. 结论](#结论)
- [8. 参考文献](#参考文献)


<!-- /MarkdownTOC -->

# 背景
比特币的诞生使区块链技术从单纯的理论研究一跃成为全世界瞩目的创新科技，被寄予厚望，希望通过“区块链改变世界”。以太坊提出智能合约，使区块链的落地应用成为可能。但是，由于众多技术瓶颈的限制，目前区块链距离大规模的商业落地应用可能还需要解决以下技术瓶颈问题：
- 可扩展性
- 保持去中心化
- 文件存储
- 低交易手续费和有效激励
- 智能合约可迭代
- 用户信息保护
- 系统安全性
- 易用性

# 区块链在落地应用中的挑战
## 高并发、高吞吐与可扩展性
商业竞争的核心是流量竞争。一个成功的商业项目通常要拥有千万以上的注册用户量和百万以上的活跃用户。区块链的可扩展性问题，即如何提高交易的速度和交易的吞吐量是目前区块链研究的重点。生态系统中多个应用（DApp）可能产生高并发请求，系统吞吐量应至少满足每秒处理数万笔交易，达到或接近Visa/万事达卡的水平。
## 商业信誉与用户隐私
区块链在某些领域因为匿名性而受到追捧。匿名性在于隐藏了用户的身份，将用户信息进行隐私性保护，但在真实的商业应用中，单纯的匿名性可能带来欺诈、违约、难以维权等问题。当用户选择服务商时，有权利知道该服务商是否诚实可信。
## 激励机制与交易成本
商业应用场景主要是面对中小用户的高频小微交易，因此交易成本将会成为项目落地应用的重要考虑因素。比特币的交易成本已经超过1美元/次，以太坊的交易成本在0.01~0.02ETH/次，约合5~10美元/次。过高的交易成本显然无法满足高频小微交易的商业需求。

C端用户希望免费或低成本使用平台资源，但记账节点需要足够的激励来支付设备运行成本，并保持持续的参与热情，以维持去中心化系统的分散性。如何有效平衡两者的矛盾，是建立一个可持续发展的底层系统的关键。

## 安全性与去中心化
经典区块链为了确保交易安全性，需要每个客户端都下载备份全网的交易数据，称为“全节点”。但多数情况下运行全节点是极其昂贵和迟缓的，对于商业应用中的大多数用户都在处理小微交易，并没有能力与需求购置大型计算机和承担相应的运行费用。因此，中小用户无法参与系统运算，无法获得系统奖励，从而形成了少数用户的**算力垄断**。

## 智能合约迭代
区块链上开发的应用程序在进行功能迭代时需要有一套合理的机制支持软件升级。所有软件都有可能受到bug的影响，当一个区块链底层平台或运行的应用遭遇bug的时候，需要能够从bug中修复错误。

## 存储能力受限
很多商业应用产品的开发往往涉及大文件存储和传输，例如自媒体、社交软件、电商平台、视频直播、游戏等应用都需要较大的文件存储功能。经典区块链不支持存储大文件，无法满足区块链在实际落地应用中的开发需求。

# PoR信誉共识
PoR信誉共识算法是贝克链基于社交图谱提出的崭新算法。利用在区块链上构筑的分布式去中心化的信誉量化体系，表明每个用户对全网发展性、安全性和稳定性的贡献。根据R值动态筛选具有可信赖度的诚信节点，诚信节点通过贡献算力，维持系统的完整性，可以获得系统奖励。

信誉共识在社交图谱的基础上结合了DAG有向无环图的数据结构，具有拜占庭容错功能。贝克链具有正向可扩展性，用户越多交易速度越快，可适用于高频小微交易和社交应用。信誉证明采用了权力制衡哲学，设计了一个具有防马太效应的去中心化激励制度，可以确保新用户和老用户，小用户和大用户之间，都有机会获得系统的奖励，防止因为系统激励而导致的中心化。

## 信任与共识
理想的区块链是不存在中央权威的去中心化系统，如在CypherPunk，HashCash，B-Money等区块链先驱所倡导的那样杜绝权力集中而导致的腐败和滥用。区块链技术的核心是共识算法，共识算法的本质是在分布式网络中，各节点互不信任的条件下，通过举证稀缺资源的方式，形成了纳什均衡，赢得各方的信任，快速在各个节点之间达成一致，并同步的完成任务。

PoW，Proof of Work/工作量证明，举证的是矿工的时间和电力；PoS，Proof of Stake/权益证明和DPoS，Delegated Proof of Stake/代理人权益证明，举证都是权益，用持币数量或币龄计算。共识就是能够举证某项稀缺资源，因而被信任，可以参与共识，贡献算力，获得奖励。

贝克链提出通过举证信誉的方式，来获得共识的达成。

